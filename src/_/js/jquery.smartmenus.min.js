/*! SmartMenus jQuery Plugin - v0.9.6 - July 12, 2014
 * http://www.smartmenus.org/
 * Copyright 2014 Vasil Dinkov, Vadikom Web Ltd. http://vadikom.com; Licensed MIT */!function(a){function b(b){if(i||b)i&&b&&(a(document).unbind(".smartmenus_mouse"),i=!1);else{var d=!0,e=null;a(document).bind({"mousemove.smartmenus_mouse":function(b){var f={x:b.pageX,y:b.pageY,timeStamp:(new Date).getTime()};if(e){var g=Math.abs(e.x-f.x),i=Math.abs(e.y-f.y);if((g>0||i>0)&&2>=g&&2>=i&&f.timeStamp-e.timeStamp<=300&&(h=!0,d)){var j=a(b.target).closest("a");j.is("a")&&a.each(c,function(){return a.contains(this.$root[0],j[0])?(this.itemEnter({currentTarget:j[0]}),!1):void 0}),d=!1}}e=f},"touchstart.smartmenus_mouse pointerover.smartmenus_mouse MSPointerOver.smartmenus_mouse":function(a){/^(4|mouse)$/.test(a.originalEvent.pointerType)||(h=!1)}}),i=!0}}var c=[],d=!!window.createPopup,e=d&&!document.defaultView,f=d&&!document.querySelector,g=d&&"undefined"==typeof document.documentElement.currentStyle.minWidth,h=!1,i=!1;a.SmartMenus=function(b,c){this.$root=a(b),this.opts=c,this.rootId="",this.$subArrow=null,this.subMenus=[],this.activatedItems=[],this.visibleSubMenus=[],this.showTimeout=0,this.hideTimeout=0,this.scrollTimeout=0,this.clickActivated=!1,this.zIndexInc=0,this.$firstLink=null,this.$firstSub=null,this.disabled=!1,this.$disableOverlay=null,this.init()},a.extend(a.SmartMenus,{hideAll:function(){a.each(c,function(){this.menuHideAll()})},destroy:function(){for(;c.length;)c[0].destroy();b(!0)},prototype:{init:function(d){var e=this;if(!d){c.push(this),this.rootId=((new Date).getTime()+Math.random()+"").replace(/\D/g,""),this.$root.hasClass("sm-rtl")&&(this.opts.rightToLeftSubMenus=!0),this.$root.data("smartmenus",this).attr("data-smartmenus-id",this.rootId).dataSM("level",1).bind({"mouseover.smartmenus focusin.smartmenus":a.proxy(this.rootOver,this),"mouseout.smartmenus focusout.smartmenus":a.proxy(this.rootOut,this)}).delegate("a",{"mouseenter.smartmenus":a.proxy(this.itemEnter,this),"mouseleave.smartmenus":a.proxy(this.itemLeave,this),"mousedown.smartmenus":a.proxy(this.itemDown,this),"focus.smartmenus":a.proxy(this.itemFocus,this),"blur.smartmenus":a.proxy(this.itemBlur,this),"click.smartmenus":a.proxy(this.itemClick,this),"touchend.smartmenus":a.proxy(this.itemTouchEnd,this)});var f=".smartmenus"+this.rootId;this.opts.hideOnClick&&a(document).bind("touchstart"+f,a.proxy(this.docTouchStart,this)).bind("touchmove"+f,a.proxy(this.docTouchMove,this)).bind("touchend"+f,a.proxy(this.docTouchEnd,this)).bind("click"+f,a.proxy(this.docClick,this)),a(window).bind("resize"+f+" orientationchange"+f,a.proxy(this.winResize,this)),this.opts.subIndicators&&(this.$subArrow=a("<span/>").addClass("sub-arrow"),this.opts.subIndicatorsText&&this.$subArrow.html(this.opts.subIndicatorsText)),b()}if(this.$firstSub=this.$root.find("ul").each(function(){e.menuInit(a(this))}).eq(0),this.$firstLink=this.$root.find("a").eq(0),this.opts.markCurrentItem){var g=/(index|default)\.[^#\?\/]*/i,h=/#.*/,i=window.location.href.replace(g,""),j=i.replace(h,"");this.$root.find("a").each(function(){var b=this.href.replace(g,""),c=a(this);(b==i||b==j)&&(c.addClass("current"),e.opts.markCurrentTree&&c.parents("li").each(function(){var b=a(this);b.dataSM("sub")&&b.children("a").addClass("current")}))})}},destroy:function(){this.menuHideAll(),this.$root.removeData("smartmenus").removeAttr("data-smartmenus-id").removeDataSM("level").unbind(".smartmenus").undelegate(".smartmenus");var b=".smartmenus"+this.rootId;a(document).unbind(b),a(window).unbind(b),this.opts.subIndicators&&(this.$subArrow=null);var d=this;a.each(this.subMenus,function(){this.hasClass("mega-menu")&&this.find("ul").removeDataSM("in-mega"),this.dataSM("shown-before")&&(f&&this.children().css({styleFloat:"",width:""}),(d.opts.subMenusMinWidth||d.opts.subMenusMaxWidth)&&(g?this.css({width:"",overflowX:"",overflowY:""}).children().children("a").css("white-space",""):this.css({width:"",minWidth:"",maxWidth:""}).removeClass("sm-nowrap")),this.dataSM("scroll-arrows")&&this.dataSM("scroll-arrows").remove(),this.css({zIndex:"",top:"",left:"",marginLeft:"",marginTop:"",display:""})),d.opts.subIndicators&&this.dataSM("parent-a").removeClass("has-submenu").children("span.sub-arrow").remove(),this.removeDataSM("shown-before").removeDataSM("ie-shim").removeDataSM("scroll-arrows").removeDataSM("parent-a").removeDataSM("level").removeDataSM("beforefirstshowfired").parent().removeDataSM("sub")}),this.opts.markCurrentItem&&this.$root.find("a.current").removeClass("current"),this.$root=null,this.$firstLink=null,this.$firstSub=null,this.$disableOverlay&&(this.$disableOverlay.remove(),this.$disableOverlay=null),c.splice(a.inArray(this,c),1)},disable:function(b){if(!this.disabled){if(this.menuHideAll(),!b&&!this.opts.isPopup&&this.$root.is(":visible")){var c=this.$root.offset();this.$disableOverlay=a('<div class="sm-jquery-disable-overlay"/>').css({position:"absolute",top:c.top,left:c.left,width:this.$root.outerWidth(),height:this.$root.outerHeight(),zIndex:this.getStartZIndex()+1,opacity:0}).appendTo(document.body)}this.disabled=!0}},docClick:function(b){(this.visibleSubMenus.length&&!a.contains(this.$root[0],b.target)||a(b.target).is("a"))&&this.menuHideAll()},docTouchEnd:function(){if(this.lastTouch){if(!(!this.visibleSubMenus.length||void 0!==this.lastTouch.x2&&this.lastTouch.x1!=this.lastTouch.x2||void 0!==this.lastTouch.y2&&this.lastTouch.y1!=this.lastTouch.y2||this.lastTouch.target&&a.contains(this.$root[0],this.lastTouch.target))){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0);var b=this;this.hideTimeout=setTimeout(function(){b.menuHideAll()},350)}this.lastTouch=null}},docTouchMove:function(a){if(this.lastTouch){var b=a.originalEvent.touches[0];this.lastTouch.x2=b.pageX,this.lastTouch.y2=b.pageY}},docTouchStart:function(a){var b=a.originalEvent.touches[0];this.lastTouch={x1:b.pageX,y1:b.pageY,target:b.target}},enable:function(){this.disabled&&(this.$disableOverlay&&(this.$disableOverlay.remove(),this.$disableOverlay=null),this.disabled=!1)},getHeight:function(a){return this.getOffset(a,!0)},getOffset:function(a,b){var c;"none"==a.css("display")&&(c={position:a[0].style.position,visibility:a[0].style.visibility},a.css({position:"absolute",visibility:"hidden"}).show());var d=a[0].ownerDocument.defaultView,e=d&&d.getComputedStyle&&d.getComputedStyle(a[0],null),f=e&&parseFloat(e[b?"height":"width"]);return f?f+=parseFloat(e[b?"paddingTop":"paddingLeft"])+parseFloat(e[b?"paddingBottom":"paddingRight"])+parseInt(e[b?"borderTopWidth":"borderLeftWidth"])+parseInt(e[b?"borderBottomWidth":"borderRightWidth"]):f=b?a[0].offsetHeight:a[0].offsetWidth,c&&a.hide().css(c),f},getWidth:function(a){return this.getOffset(a)},getStartZIndex:function(){var a=parseInt(this.$root.css("z-index"));return isNaN(a)?1:a},handleEvents:function(){return!this.disabled&&this.isCSSOn()},handleItemEvents:function(a){return this.handleEvents()&&!this.isLinkInMegaMenu(a)},isCollapsible:function(){return"static"==this.$firstSub.css("position")},isCSSOn:function(){return"block"==this.$firstLink.css("display")},isFixed:function(){return"fixed"==this.$root.css("position")},isLinkInMegaMenu:function(a){return!a.parent().parent().dataSM("level")},isTouchMode:function(){return!h||this.isCollapsible()},itemActivate:function(b){var c=b.parent(),d=c.parent(),e=d.dataSM("level");if(e>1&&(!this.activatedItems[e-2]||this.activatedItems[e-2][0]!=d.dataSM("parent-a")[0])){var f=this;a(d.parentsUntil("[data-smartmenus-id]","ul").get().reverse()).add(d).each(function(){f.itemActivate(a(this).dataSM("parent-a"))})}if(this.visibleSubMenus.length>e)for(var g=this.visibleSubMenus.length-1,h=this.activatedItems[e-1]&&this.activatedItems[e-1][0]==b[0]?e:e-1;g>h;g--)this.menuHide(this.visibleSubMenus[g]);if(this.activatedItems[e-1]=b,this.visibleSubMenus[e-1]=d,this.$root.triggerHandler("activate.smapi",b[0])!==!1){var i=c.dataSM("sub");i&&(this.isTouchMode()||!this.opts.showOnClick||this.clickActivated)&&this.menuShow(i)}},itemBlur:function(b){var c=a(b.currentTarget);this.handleItemEvents(c)&&this.$root.triggerHandler("blur.smapi",c[0])},itemClick:function(b){var c=a(b.currentTarget);if(this.handleItemEvents(c)){if(c.removeDataSM("mousedown"),this.$root.triggerHandler("click.smapi",c[0])===!1)return!1;var d=c.parent().dataSM("sub");if(this.isTouchMode()){if(c.dataSM("href")&&c.attr("href",c.dataSM("href")).removeDataSM("href"),d&&(!d.dataSM("shown-before")||!d.is(":visible"))&&(this.itemActivate(c),d.is(":visible")))return!1}else if(this.opts.showOnClick&&1==c.parent().parent().dataSM("level")&&d)return this.clickActivated=!0,this.menuShow(d),!1;return c.hasClass("disabled")?!1:this.$root.triggerHandler("select.smapi",c[0])===!1?!1:void 0}},itemDown:function(b){var c=a(b.currentTarget);this.handleItemEvents(c)&&c.dataSM("mousedown",!0)},itemEnter:function(b){var c=a(b.currentTarget);if(this.handleItemEvents(c)){if(!this.isTouchMode()){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=0);var d=this;this.showTimeout=setTimeout(function(){d.itemActivate(c)},this.opts.showOnClick&&1==c.parent().parent().dataSM("level")?1:this.opts.showTimeout)}this.$root.triggerHandler("mouseenter.smapi",c[0])}},itemFocus:function(b){var c=a(b.currentTarget);this.handleItemEvents(c)&&(this.isTouchMode()&&c.dataSM("mousedown")||this.activatedItems.length&&this.activatedItems[this.activatedItems.length-1][0]==c[0]||this.itemActivate(c),this.$root.triggerHandler("focus.smapi",c[0]))},itemLeave:function(b){var c=a(b.currentTarget);this.handleItemEvents(c)&&(this.isTouchMode()||(c[0].blur&&c[0].blur(),this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=0)),c.removeDataSM("mousedown"),this.$root.triggerHandler("mouseleave.smapi",c[0]))},itemTouchEnd:function(b){var c=a(b.currentTarget);if(this.handleItemEvents(c)){var d=c.parent().dataSM("sub");"#"===c.attr("href").charAt(0)||!d||d.dataSM("shown-before")&&d.is(":visible")||(c.dataSM("href",c.attr("href")),c.attr("href","#"))}},menuFixLayout:function(a){a.dataSM("shown-before")||(a.hide().dataSM("shown-before",!0),f&&a.children().css({styleFloat:"left",width:"100%"}))},menuHide:function(a){if(this.$root.triggerHandler("beforehide.smapi",a[0])!==!1&&(a.stop(!0,!0),a.is(":visible"))){var b=function(){e?a.parent().css("z-index",""):a.css("z-index","")};this.isCollapsible()?this.opts.collapsibleHideFunction?this.opts.collapsibleHideFunction.call(this,a,b):a.hide(this.opts.collapsibleHideDuration,b):this.opts.hideFunction?this.opts.hideFunction.call(this,a,b):a.hide(this.opts.hideDuration,b),a.dataSM("ie-shim")&&a.dataSM("ie-shim").remove(),a.dataSM("scroll")&&a.unbind(".smartmenus_scroll").removeDataSM("scroll").dataSM("scroll-arrows").hide(),a.dataSM("parent-a").removeClass("highlighted");var c=a.dataSM("level");this.activatedItems.splice(c-1,1),this.visibleSubMenus.splice(c-1,1),this.$root.triggerHandler("hide.smapi",a[0])}},menuHideAll:function(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=0);for(var a=this.visibleSubMenus.length-1;a>0;a--)this.menuHide(this.visibleSubMenus[a]);this.opts.isPopup&&(this.$root.stop(!0,!0),this.$root.is(":visible")&&(this.opts.hideFunction?this.opts.hideFunction.call(this,this.$root):this.$root.hide(this.opts.hideDuration),this.$root.dataSM("ie-shim")&&this.$root.dataSM("ie-shim").remove())),this.activatedItems=[],this.visibleSubMenus=[],this.clickActivated=!1,this.zIndexInc=0},menuIframeShim:function(b){d&&this.opts.overlapControlsInIE&&!b.dataSM("ie-shim")&&b.dataSM("ie-shim",a("<iframe/>").attr({src:"javascript:0",tabindex:-9}).css({position:"absolute",top:"auto",left:"0",opacity:0,border:"0"}))},menuInit:function(a){if(!a.dataSM("in-mega")){this.subMenus.push(a),a.hasClass("mega-menu")&&a.find("ul").dataSM("in-mega",!0);for(var b=2,c=a[0];(c=c.parentNode.parentNode)!=this.$root[0];)b++;a.dataSM("parent-a",a.prevAll("a").eq(-1)).dataSM("level",b).parent().dataSM("sub",a),this.opts.subIndicators&&a.dataSM("parent-a").addClass("has-submenu")[this.opts.subIndicatorsPos](this.$subArrow.clone())}},menuPosition:function(b){var c,d,e=b.dataSM("parent-a"),f=b.parent().parent(),g=b.dataSM("level"),i=this.getWidth(b),j=this.getHeight(b),k=e.offset(),l=k.left,m=k.top,n=this.getWidth(e),o=this.getHeight(e),p=a(window),q=p.scrollLeft(),r=p.scrollTop(),s=p.width(),t=p.height(),u=f.hasClass("sm")&&!f.hasClass("sm-vertical"),v=2==g?this.opts.mainMenuSubOffsetX:this.opts.subMenusSubOffsetX,w=2==g?this.opts.mainMenuSubOffsetY:this.opts.subMenusSubOffsetY;if(u?(c=this.opts.rightToLeftSubMenus?n-i-v:v,d=this.opts.bottomToTopSubMenus?-j-w:o+w):(c=this.opts.rightToLeftSubMenus?v-i:n-v,d=this.opts.bottomToTopSubMenus?o-w-j:w),this.opts.keepInViewport&&!this.isCollapsible()){this.isFixed()&&(l-=q,m-=r,q=r=0);var x=l+c,y=m+d;if(this.opts.rightToLeftSubMenus&&q>x?c=u?q-x+c:n-v:!this.opts.rightToLeftSubMenus&&x+i>q+s&&(c=u?q+s-i-x+c:v-i),u||(t>j&&y+j>r+t?d+=r+t-j-y:(j>=t||r>y)&&(d+=r-y)),h&&(u&&(y+j>r+t+.49||r>y)||!u&&j>t+.49)){var z=this;b.dataSM("scroll-arrows")||b.dataSM("scroll-arrows",a([a('<span class="scroll-up"><span class="scroll-up-arrow"></span></span>')[0],a('<span class="scroll-down"><span class="scroll-down-arrow"></span></span>')[0]]).bind({mouseenter:function(){z.menuScroll(b,a(this).hasClass("scroll-up"))},mouseleave:function(a){z.menuScrollStop(b),z.menuScrollOut(b,a)},"mousewheel DOMMouseScroll":function(a){a.preventDefault()}}).insertAfter(b));var A=r-(m+o);b.dataSM("scroll",{vportY:A,subH:j,winH:t,step:1}).bind({"mouseover.smartmenus_scroll":function(a){z.menuScrollOver(b,a)},"mouseout.smartmenus_scroll":function(a){z.menuScrollOut(b,a)},"mousewheel.smartmenus_scroll DOMMouseScroll.smartmenus_scroll":function(a){z.menuScrollMousewheel(b,a)}}).dataSM("scroll-arrows").css({top:"auto",left:"0",marginLeft:c+(parseInt(b.css("border-left-width"))||0),width:this.getWidth(b)-(parseInt(b.css("border-left-width"))||0)-(parseInt(b.css("border-right-width"))||0),zIndex:this.getStartZIndex()+this.zIndexInc}).eq(0).css("margin-top",A).end().eq(1).css("margin-top",A+t-this.getHeight(b.dataSM("scroll-arrows").eq(1))).end().eq(u&&this.opts.bottomToTopSubMenus?0:1).show()}}b.css({top:"auto",left:"0",marginLeft:c,marginTop:d-o}),this.menuIframeShim(b),b.dataSM("ie-shim")&&b.dataSM("ie-shim").css({zIndex:b.css("z-index"),width:i,height:j,marginLeft:c,marginTop:d-o})},menuScroll:function(a,b,c){var d=parseFloat(a.css("margin-top")),e=a.dataSM("scroll"),f=e.vportY+(b?0:e.winH-e.subH),g=c||!this.opts.scrollAccelerate?this.opts.scrollStep:Math.floor(a.dataSM("scroll").step);if(a.add(a.dataSM("ie-shim")).css("margin-top",Math.abs(f-d)>g?d+(b?g:-g):f),d=parseFloat(a.css("margin-top")),(b&&d+e.subH>e.vportY+e.winH||!b&&d<e.vportY)&&a.dataSM("scroll-arrows").eq(b?1:0).show(),!c&&this.opts.scrollAccelerate&&a.dataSM("scroll").step<this.opts.scrollStep&&(a.dataSM("scroll").step+=.5),Math.abs(d-f)<1)a.dataSM("scroll-arrows").eq(b?0:1).hide(),a.dataSM("scroll").step=1;else if(!c){var h=this;this.scrollTimeout=setTimeout(function(){h.menuScroll(a,b)},this.opts.scrollInterval)}},menuScrollMousewheel:function(b,c){for(var d=a(c.target).closest("ul");d.dataSM("in-mega");)d=d.parent().closest("ul");if(d[0]==b[0]){var e=(c.originalEvent.wheelDelta||-c.originalEvent.detail)>0;b.dataSM("scroll-arrows").eq(e?0:1).is(":visible")&&this.menuScroll(b,e,!0)}c.preventDefault()},menuScrollOut:function(b,c){for(var d=/^scroll-(up|down)/,e=a(c.relatedTarget).closest("ul");e.dataSM("in-mega");)e=e.parent().closest("ul");d.test((c.relatedTarget||"").className)||(b[0]==c.relatedTarget||a.contains(b[0],c.relatedTarget))&&e[0]==b[0]||b.dataSM("scroll-arrows").css("visibility","hidden")},menuScrollOver:function(b,c){for(var d=/^scroll-(up|down)/,e=a(c.target).closest("ul");e.dataSM("in-mega");)e=e.parent().closest("ul");d.test(c.target.className)||e[0]!=b[0]||b.dataSM("scroll-arrows").css("visibility","visible")},menuScrollStop:function(a){this.scrollTimeout&&(clearTimeout(this.scrollTimeout),this.scrollTimeout=0,a.dataSM("scroll").step=1)},menuShow:function(a){if((a.dataSM("beforefirstshowfired")||(a.dataSM("beforefirstshowfired",!0),this.$root.triggerHandler("beforefirstshow.smapi",a[0])!==!1))&&this.$root.triggerHandler("beforeshow.smapi",a[0])!==!1&&(this.menuFixLayout(a),a.stop(!0,!0),!a.is(":visible"))){var b=this.getStartZIndex()+ ++this.zIndexInc;if(e?a.parent().css("z-index",b):a.css("z-index",b),(this.opts.keepHighlighted||this.isCollapsible())&&a.dataSM("parent-a").addClass("highlighted"),this.opts.subMenusMinWidth||this.opts.subMenusMaxWidth)if(f){if(a.children().css("styleFloat","none"),g?a.width(this.opts.subMenusMinWidth?this.opts.subMenusMinWidth:1).children().children("a").css("white-space","nowrap"):(a.css({width:"auto",minWidth:"",maxWidth:""}).addClass("sm-nowrap"),this.opts.subMenusMinWidth&&a.css("min-width",this.opts.subMenusMinWidth)),this.opts.subMenusMaxWidth){var c=a.width();if(g){var d=a.css({width:this.opts.subMenusMaxWidth,overflowX:"hidden",overflowY:"hidden"}).width();c>d?a.css({width:d,overflowX:"visible",overflowY:"visible"}).children().children("a").css("white-space",""):a.css({width:c,overflowX:"visible",overflowY:"visible"})}else a.css("max-width",this.opts.subMenusMaxWidth),c>a.width()?a.removeClass("sm-nowrap").css("width",this.opts.subMenusMaxWidth):a.width(c)}else a.width(a.width());a.children().css("styleFloat","left")}else if(a.css({width:"auto",minWidth:"",maxWidth:""}).addClass("sm-nowrap"),this.opts.subMenusMinWidth&&a.css("min-width",this.opts.subMenusMinWidth),this.opts.subMenusMaxWidth){var c=this.getWidth(a);a.css("max-width",this.opts.subMenusMaxWidth),c>this.getWidth(a)&&a.removeClass("sm-nowrap").css("width",this.opts.subMenusMaxWidth)}this.menuPosition(a),a.dataSM("ie-shim")&&a.dataSM("ie-shim").insertBefore(a);var h=function(){a.css("overflow","")};this.isCollapsible()?this.opts.collapsibleShowFunction?this.opts.collapsibleShowFunction.call(this,a,h):a.show(this.opts.collapsibleShowDuration,h):this.opts.showFunction?this.opts.showFunction.call(this,a,h):a.show(this.opts.showDuration,h),this.visibleSubMenus[a.dataSM("level")-1]=a,this.$root.triggerHandler("show.smapi",a[0])}},popupHide:function(a){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0);var b=this;this.hideTimeout=setTimeout(function(){b.menuHideAll()},a?1:this.opts.hideTimeout)},popupShow:function(a,b){return this.opts.isPopup?(this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0),this.menuFixLayout(this.$root),this.$root.stop(!0,!0),void(this.$root.is(":visible")||(this.$root.css({left:a,top:b}),this.menuIframeShim(this.$root),this.$root.dataSM("ie-shim")&&this.$root.dataSM("ie-shim").css({zIndex:this.$root.css("z-index"),width:this.getWidth(this.$root),height:this.getHeight(this.$root),left:a,top:b}).insertBefore(this.$root),this.opts.showFunction?this.opts.showFunction.call(this,this.$root):this.$root.show(this.opts.showDuration),this.visibleSubMenus[0]=this.$root))):void alert('SmartMenus jQuery Error:\n\nIf you want to show this menu via the "popupShow" method, set the isPopup:true option.')},refresh:function(){this.menuHideAll(),this.$root.find("ul").each(function(){var b=a(this);b.dataSM("scroll-arrows")&&b.dataSM("scroll-arrows").remove()}).removeDataSM("in-mega").removeDataSM("shown-before").removeDataSM("ie-shim").removeDataSM("scroll-arrows").removeDataSM("parent-a").removeDataSM("level").removeDataSM("beforefirstshowfired"),this.$root.find("a.has-submenu").removeClass("has-submenu").parent().removeDataSM("sub"),this.opts.subIndicators&&this.$root.find("span.sub-arrow").remove(),this.opts.markCurrentItem&&this.$root.find("a.current").removeClass("current"),this.subMenus=[],this.init(!0)},rootOut:function(a){if(this.handleEvents()&&!this.isTouchMode()&&a.target!=this.$root[0]&&(this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0),!this.opts.showOnClick||!this.opts.hideOnClick)){var b=this;this.hideTimeout=setTimeout(function(){b.menuHideAll()},this.opts.hideTimeout)}},rootOver:function(a){this.handleEvents()&&!this.isTouchMode()&&a.target!=this.$root[0]&&this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0)},winResize:function(a){if(this.handleEvents())this.isCollapsible()||"onorientationchange"in window&&"orientationchange"!=a.type||(this.activatedItems.length&&this.activatedItems[this.activatedItems.length-1][0].blur(),this.menuHideAll());else if(this.$disableOverlay){var b=this.$root.offset();this.$disableOverlay.css({top:b.top,left:b.left,width:this.$root.outerWidth(),height:this.$root.outerHeight()})}}}}),a.fn.dataSM=function(a,b){return b?this.data(a+"_smartmenus",b):this.data(a+"_smartmenus")},a.fn.removeDataSM=function(a){return this.removeData(a+"_smartmenus")},a.fn.smartmenus=function(b){if("string"==typeof b){var c=arguments,d=b;return Array.prototype.shift.call(c),this.each(function(){var b=a(this).data("smartmenus");b&&b[d]&&b[d].apply(b,c)})}var e=a.extend({},a.fn.smartmenus.defaults,b);return this.each(function(){new a.SmartMenus(this,e)})},a.fn.smartmenus.defaults={isPopup:!1,mainMenuSubOffsetX:0,mainMenuSubOffsetY:0,subMenusSubOffsetX:0,subMenusSubOffsetY:0,subMenusMinWidth:"10em",subMenusMaxWidth:"20em",subIndicators:!0,subIndicatorsPos:"prepend",subIndicatorsText:"+",scrollStep:30,scrollInterval:30,scrollAccelerate:!0,showTimeout:250,hideTimeout:500,showDuration:0,showFunction:null,hideDuration:0,hideFunction:function(a,b){a.fadeOut(200,b)},collapsibleShowDuration:0,collapsibleShowFunction:function(a,b){a.slideDown(200,b)},collapsibleHideDuration:0,collapsibleHideFunction:function(a,b){a.slideUp(200,b)},showOnClick:!1,hideOnClick:!0,keepInViewport:!0,keepHighlighted:!0,markCurrentItem:!1,markCurrentTree:!0,rightToLeftSubMenus:!1,bottomToTopSubMenus:!1,overlapControlsInIE:!0}}(jQuery);